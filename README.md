# 作業時間記録ツール - ユーザーマニュアル

## 概要

作業時間記録ツールは、プロジェクトやタスクの作業時間を効率的に記録・管理するためのWebアプリケーションです。オーダー（プロジェクト）とアクティビティ（タスク）を階層的に管理し、正確な時間計測とレポート機能を提供します。

## 主な機能

- **オーダー管理**: プロジェクトやクライアント単位での作業管理
- **アクティビティ管理**: 具体的なタスクや作業内容の管理
- **時間計測**: リアルタイムでの作業時間計測
- **レポート機能**: 日別・週別・月別の作業時間集計
- **データエクスポート**: CSV形式でのデータ出力
- **データ永続化**: ブラウザのLocalStorageを使用した自動保存

## 使い方

### 1. 初期設定

#### オーダーの作成
1. 「新規オーダー」ボタンをクリック
2. オーダー名を入力（必須）
3. 説明を入力（任意）
4. 「作成」ボタンをクリック

#### アクティビティの作成
1. オーダーリストから対象のオーダーを選択
2. 「新規アクティビティ」ボタンをクリック
3. アクティビティ名を入力（必須）
4. 説明を入力（任意）
5. 「作成」ボタンをクリック

### 2. 作業時間の記録

#### 作業開始
1. オーダーリストから作業対象のオーダーを選択
2. アクティビティグリッドから開始したいアクティビティをクリック
3. タイマーが自動的に開始され、画面上部に経過時間が表示されます
4. 「作業終了」ボタンが有効になります

#### 作業終了
1. 「作業終了」ボタンをクリック
2. 作業セッションが自動的に保存されます
3. タイマーが停止し、アクティビティの状態が更新されます

#### 作業の切り替え
- 作業中に別のアクティビティをクリックすると、現在の作業を自動的に終了し、新しい作業を開始します

### 3. レポートの確認

#### 作業履歴の表示
1. 「作業履歴」ボタンをクリック
2. 最近の作業セッション一覧が表示されます
3. 各セッションの開始時刻、終了時刻、作業時間が確認できます

#### 期間別レポート
1. 対象日付を選択（デフォルトは今日）
2. 選択した日付の作業時間集計が表示されます
3. オーダー別、アクティビティ別の内訳も確認できます

### 4. データのエクスポート

#### CSVエクスポート
1. 「エクスポート」ボタンをクリック
2. エクスポートメニューから以下のいずれかを選択：
   - **作業履歴 (CSV)**: 全ての作業セッションの詳細データ
   - **集計サマリー (CSV)**: オーダー別の作業時間集計

#### 印刷
1. 「エクスポート」ボタンをクリック
2. 「レポート印刷」を選択
3. 印刷用ページが新しいウィンドウで開きます

### 5. データの編集・削除

#### オーダーの編集
1. オーダーリストの対象オーダーをダブルクリック
2. または右クリックして編集メニューを選択
3. 編集フォームで内容を変更し、「更新」をクリック

#### アクティビティの編集
1. アクティビティグリッドの対象アクティビティをダブルクリック
2. または右クリックして編集メニューを選択
3. 編集フォームで内容を変更し、「更新」をクリック

#### 削除
- 編集フォーム内の「削除」ボタンをクリック
- 削除されたデータは復元できませんので注意してください

## 注意事項

### データの保存について
- **自動保存**: 作業開始・終了時に自動的にデータが保存されます
- **保存場所**: ブラウザのLocalStorageに保存されます
- **ブラウザ依存**: データは使用しているブラウザにのみ保存されます

### ブラウザ制限
- **プライベートブラウジング**: プライベート/シークレットモードでは正常に動作しない場合があります
- **容量制限**: LocalStorageには容量制限があります（通常5-10MB）
- **ブラウザ変更**: 異なるブラウザでは同じデータにアクセスできません

### 作業時間の計測
- **精度**: 1秒単位で計測されます
- **異常検知**: 24時間を超える連続作業は警告が表示されます
- **ブラウザ終了**: ブラウザを閉じても作業中のセッションは保持されます

### データの整合性
- **バックアップ推奨**: 定期的なCSVエクスポートによるバックアップを推奨します
- **データ検証**: アプリケーション起動時に自動的にデータの整合性がチェックされます
- **エラー時の対応**: データ破損が検出された場合、初期状態にリセットされます

## クリーンアップ方法

### 1. 作業データのクリーンアップ

#### 古いセッションの削除
現在のバージョンでは手動削除機能はありませんが、以下の方法で対応できます：

1. **CSVエクスポート**: 必要なデータを事前にエクスポート
2. **ブラウザ設定**: ブラウザの設定からLocalStorageをクリア
3. **再インポート**: 必要に応じて手動でデータを再入力

#### 不要なオーダー・アクティビティの削除
1. 対象のオーダーまたはアクティビティを編集
2. 編集フォーム内の「削除」ボタンをクリック
3. 関連する作業セッションも自動的に削除されます

### 2. ブラウザデータのクリーンアップ

#### LocalStorageの完全クリア
**Chrome/Edge:**
1. F12キーで開発者ツールを開く
2. 「Application」タブを選択
3. 「Local Storage」→ サイトURLを選択
4. `workTimeTracker` キーを削除

**Firefox:**
1. F12キーで開発者ツールを開く
2. 「ストレージ」タブを選択
3. 「ローカルストレージ」→ サイトURLを選択
4. `workTimeTracker` キーを削除

#### ブラウザ設定からのクリア
1. ブラウザの設定を開く
2. 「プライバシーとセキュリティ」を選択
3. 「閲覧データを削除」を選択
4. 「Cookieとその他のサイトデータ」にチェック
5. 対象期間を選択して削除実行

### 3. 定期メンテナンス

#### 推奨メンテナンススケジュール
- **週次**: 不要な作業セッションの確認
- **月次**: CSVエクスポートによるバックアップ
- **四半期**: 古いデータの整理とアーカイブ

#### パフォーマンス最適化
- 大量のデータが蓄積された場合、動作が重くなる可能性があります
- 定期的なデータ整理により、快適な動作を維持できます

## トラブルシューティング

### よくある問題と解決方法

#### タイマーが動作しない
1. ブラウザのコンソールでエラーを確認
2. ページをリロード
3. 別のブラウザで試行

#### データが保存されない
1. プライベートブラウジングモードを無効にする
2. ブラウザのLocalStorage設定を確認
3. 十分な容量があることを確認

#### エクスポートが失敗する
1. ポップアップブロッカーを無効にする
2. ダウンロード設定を確認
3. 別のブラウザで試行

#### 画面が正しく表示されない
1. ブラウザのキャッシュをクリア
2. JavaScriptが有効になっていることを確認
3. 最新のブラウザを使用

## サポート情報

### 対応ブラウザ
- Chrome 80以降
- Firefox 75以降
- Safari 13以降
- Edge 80以降

### システム要件
- JavaScript有効
- LocalStorage対応
- 最低解像度: 1024x768

### データ形式
- **保存形式**: JSON（LocalStorage）
- **エクスポート形式**: CSV（UTF-8 BOM付き）
- **日時形式**: ISO 8601形式

---

このマニュアルは作業時間記録ツール v1.0 に対応しています。
最新の情報については、アプリケーション内のヘルプまたは開発者にお問い合わせください。